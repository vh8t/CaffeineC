program          ::= statement* functionDeclaration*

statement        ::= variableDeclaration
                  | assignmentStatement
                  | expressionStatement
                  | sleepStatement
                  | caffeineStatement
                  | printStatement
                  | goStatement
                  | functionCallStatement

variableDeclaration ::= "var" identifier ":" type ( "=" expression )? ";"

assignmentStatement ::= identifier "=" expression ";"

expressionStatement ::= expression ";"

sleepStatement    ::= "sleep" expression ";"

caffeineStatement ::= "caffeinate" expression ";"

printStatement    ::= "print" expression ";"

goStatement       ::= "async" identifier "(" argumentList? ")" ";"

functionDeclaration ::= "func" identifier "(" parameterList? ")" (":" type)? "{" statement* "}"

functionCallStatement ::= identifier "(" argumentList? ")" ";"

expression       ::= term (("+" | "-") term)*
                  | functionCall

term             ::= factor (("*" | "/") factor)*

factor           ::= number
                  | identifier
                  | "(" expression ")"
                  | stringLiteral
                  | durationLiteral

functionCall     ::= identifier "(" argumentList? ")"

number           ::= digit+ ("." digit+)? (("e" | "E") ("+" | "-")? digit+)?

stringLiteral    ::= "\"" .*? "\""

durationLiteral  ::= number ("ns" | "us" | "ms" | "s" | "m" | "h")

identifier       ::= letter (letter | digit | "_")*

type             ::= "int" | "float64" | "string" | "bool"
                  | "[]" type | "chan" "<" type ">" | "duration"

argumentList     ::= expression ("," expression)*

parameterList    ::= variableDeclaration ("," variableDeclaration)*